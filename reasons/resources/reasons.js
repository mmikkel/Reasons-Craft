!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(1),o=i(r);Craft.ReasonsPlugin=new o.default},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),u=r(s),l=n(3);r(l);n(42),n(46);var c=n(48),f=i(c),d=n(49),p=r(d),v=n(142),h=r(v),g=n(143),y=r(g),_=n(144),b=r(_),m=function(){function e(){o(this,e)}return a(e,[{key:"init",value:function(t){e.data=t;var n={FieldLayoutDesigner:p.default,MatrixConfigurator:h.default,ElementEditor:y.default};for(var i in n){var r=n[i],o=u.default[i]||null;o&&new r(o)}$(this.initPrimaryForm.bind(this))}},{key:"initPrimaryForm",value:function(){this.destroyPrimaryForm();var t=e.getFormAttributes();if(t.context===f.FORM_PARSER_CONTEXT&&t.conditionals){var n=e.getPrimaryForm();this.editForm=new b.default(n,t.conditionals)}}},{key:"destroyPrimaryForm",value:function(){this.editForm&&(this.editForm.destroy(),delete this.editForm)}},{key:"setElementEditorSource",value:function(t,n){e.elementEditorSources||(e.elementEditorSources={}),e.elementEditorSources[t.toString()]=n}}],[{key:"getPrimaryForm",value:function(){return u.default.cp.$primaryForm&&u.default.cp.$primaryForm.length?u.default.cp.$primaryForm:$("#content form:first")}},{key:"getConditionalsForSource",value:function(t){return e.data.conditionals?e.data.conditionals[t]||null:null}},{key:"getConditionals",value:function(){return e.data.conditionals?e.data.conditionals:null}},{key:"getSourceFromAttributes",value:function(e){return e.type+(e.id?":"+e.id:"")}},{key:"getToggleFields",value:function(){return e.data.toggleFields?e.data.toggleFields:[]}},{key:"getToggleFieldById",value:function(t){t=parseInt(t);for(var n=e.getToggleFields(),i=n.length,r=0;r<i;++r)if(parseInt(n[r].id)===t)return n[r];return!1}},{key:"getFieldIds",value:function(){return e.data.fieldIds?e.data.fieldIds:{}}},{key:"getFieldIdByHandle",value:function(t){var n=e.getFieldIds();return!(!n||!n.hasOwnProperty(t))&&n[t]}},{key:"getToggleFieldTypes",value:function(){return e.data.toggleFieldTypes?e.data.toggleFieldTypes:[]}},{key:"getFormAttributes",value:function(t){if(console.log("get form attributes",t),!(t&&t.length||(t=e.getPrimaryForm(),t&&t.length)))return!1;var n=t.find('input[type="hidden"][name="namespace"]').val();n&&(n+="-");var i=t.find('input[type="hidden"][name="action"]').val(),r=void 0,o=void 0;switch(i){case f.ASSET_SOURCE_ACTION:r=f.ASSET_SOURCE_HANDLE,o='input[type="hidden"][name="sourceId"]';break;case f.CATEGORY_ACTION:case f.CATEGORY_GROUP_ACTION:r=f.CATEGORY_GROUP_HANDLE,o='input[type="hidden"][name="groupId"]';break;case f.GLOBAL_SET_CONTENT_ACTION:case f.GLOBAL_SET_ACTION:r=f.GLOBAL_SET_HANDLE,o='input[type="hidden"][name="setId"]';break;case f.ENTRY_ACTION:var a=t.find('select#entryType, input[type="hidden"][name="entryTypeId"], input[type="hidden"][name="typeId"], #'+n+"entryType");r=a.length?f.ENTRY_TYPE_HANDLE:f.SECTION_HANDLE,o=a.length?'select#entryType, input[type="hidden"][name="entryTypeId"], input[type="hidden"][name="typeId"], #'+n+"entryType":'input[type="hidden"][name="sectionId"], #'+n+"section";break;case f.ENTRY_TYPE_ACTION:r=f.ENTRY_TYPE_HANDLE,o='input[type="hidden"][name="entryTypeId"]';break;case f.TAG_ACTION:case f.TAG_GROUP_ACTION:r=f.TAG_GROUP_HANDLE,o='input[type="hidden"][name="tagGroupId"], input[type="hidden"][name="groupId"]';break;case f.USERS_ACTION:case f.USERS_FIELDS_ACTION:r=f.USERS_HANDLE;break;case f.FIELDS_ACTION:r=f.FIELDS_HANDLE,o='input[type="hidden"][name="fieldId"]';break;case f.SOLSPACE_CALENDAR_SETTINGS_ACTION:case f.SOLSPACE_CALENDAR_EVENTS_ACTION:r=f.SOLSPACE_CALENDAR_HANDLE;break;case f.COMMERCE_PRODUCT_TYPE_ACTION:case f.COMMERCE_PRODUCT_ACTION:r=f.COMMERCE_PRODUCT_TYPE_HANDLE,o='input[type="hidden"][name="typeId"]'}if(!r)return!1;var s={type:r,context:e.getFormContext(t),id:!!o&&0|t.find(o).val()},u=e.getSourceFromAttributes(s);return s.conditionals=e.getConditionalsForSource(u),s}},{key:"getFormContext",value:function(e){if(e.data("elementEditor"))return!1;var t=e.find('input[type="hidden"][name="action"]').val();switch(t){case f.GLOBAL_SET_CONTENT_ACTION:case f.ENTRY_ACTION:case f.TAG_ACTION:case f.CATEGORY_ACTION:case f.USERS_ACTION:case f.SOLSPACE_CALENDAR_EVENTS_ACTION:case f.COMMERCE_PRODUCT_ACTION:return f.FORM_PARSER_CONTEXT;case f.ASSET_SOURCE_ACTION:case f.CATEGORY_GROUP_ACTION:case f.GLOBAL_SET_ACTION:case f.ENTRY_TYPE_ACTION:case f.TAG_GROUP_ACTION:case f.USERS_FIELDS_ACTION:case f.SOLSPACE_CALENDAR_SETTINGS_ACTION:case f.COMMERCE_PRODUCT_TYPE_ACTION:return f.FIELD_LAYOUT_DESIGNER_CONTEXT}return!1}},{key:"getElementEditorSource",value:function(t){return e.elementEditorSources?e.elementEditorSources[t.toString()]||null:null}}]),e}();m.data=null,t.default=m},function(e,t){e.exports=Craft},function(e,t,n){e.exports=n(4)},function(e,t,n){function i(e,t){var n=s(e)?r:o;return n(e,a(t))}var r=n(5),o=n(6),a=n(40),s=n(22);e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}e.exports=n},function(e,t,n){var i=n(7),r=n(39),o=r(i);e.exports=o},function(e,t,n){function i(e,t){return e&&r(e,t,o)}var r=n(8),o=n(10);e.exports=i},function(e,t,n){var i=n(9),r=i();e.exports=r},function(e,t){function n(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var u=a[e?s:++r];if(n(o[u],u,o)===!1)break}return t}}e.exports=n},function(e,t,n){function i(e){return a(e)?r(e):o(e)}var r=n(11),o=n(32),a=n(36);e.exports=i},function(e,t,n){function i(e,t){var n=a(e),i=!n&&o(e),c=!n&&!i&&s(e),d=!n&&!i&&!c&&l(e),p=n||i||c||d,v=p?r(e.length,String):[],h=v.length;for(var g in e)!t&&!f.call(e,g)||p&&("length"==g||c&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,h))||v.push(g);return v}var r=n(12),o=n(13),a=n(22),s=n(23),u=n(26),l=n(27),c=Object.prototype,f=c.hasOwnProperty;e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}e.exports=n},function(e,t,n){var i=n(14),r=n(21),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){function i(e){return o(e)&&r(e)==a}var r=n(15),o=n(21),a="[object Arguments]";e.exports=i},function(e,t,n){function i(e){return null==e?void 0===e?u:s:(e=Object(e),l&&l in e?o(e):a(e))}var r=n(16),o=n(19),a=n(20),s="[object Null]",u="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=i},function(e,t,n){var i=n(17),r=i.Symbol;e.exports=r},function(e,t,n){var i=n(18),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function i(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[u]=n:delete e[u]),r}var r=n(16),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=r?r.toStringTag:void 0;e.exports=i},function(e,t){function n(e){return r.call(e)}var i=Object.prototype,r=i.toString;e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var i=n(17),r=n(25),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?i.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||r;e.exports=c}).call(t,n(24)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(e,t){return t=null==t?i:t,!!t&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){var i=n(28),r=n(30),o=n(31),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},function(e,t,n){function i(e){return a(e)&&o(e.length)&&!!w[r(e)]}var r=n(15),o=n(29),a=n(21),s="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Function]",p="[object Map]",v="[object Number]",h="[object Object]",g="[object RegExp]",y="[object Set]",_="[object String]",b="[object WeakMap]",m="[object ArrayBuffer]",C="[object DataView]",T="[object Float32Array]",x="[object Float64Array]",O="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",w={};w[T]=w[x]=w[O]=w[E]=w[S]=w[A]=w[k]=w[R]=w[F]=!0,w[s]=w[u]=w[m]=w[l]=w[C]=w[c]=w[f]=w[d]=w[p]=w[v]=w[h]=w[g]=w[y]=w[_]=w[b]=!1,e.exports=i},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}var i=9007199254740991;e.exports=n},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var i=n(18),r="object"==typeof t&&t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r,s=a&&i.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,n(24)(e))},function(e,t,n){function i(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=n(33),o=n(34),a=Object.prototype,s=a.hasOwnProperty;e.exports=i},function(e,t){function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||i;return e===n}var i=Object.prototype;e.exports=n},function(e,t,n){var i=n(35),r=i(Object.keys,Object);e.exports=r},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function i(e){return null!=e&&o(e.length)&&!r(e)}var r=n(37),o=n(29);e.exports=i},function(e,t,n){function i(e){if(!o(e))return!1;var t=r(e);return t==s||t==u||t==a||t==l}var r=n(15),o=n(38),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";e.exports=i},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function i(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&i(s[a],a,s)!==!1;);return n}}var r=n(36);e.exports=i},function(e,t,n){function i(e){return"function"==typeof e?e:r}var r=n(41);e.exports=i},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){var i=n(43);"string"==typeof i&&(i=[[e.id,i,""]]);n(45)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(44)(),t.push([e.id,".field.reasonsHide{height:0!important;visibility:hidden!important;overflow:hidden!important;pointer-events:none!important;margin:0!important;padding:0!important;position:absolute!important}.reasonsModal .body{overflow:auto}.reasonsBuilderUi .heading{margin-bottom:20px;font-weight:700}.reasonsBuilderUi.disabled{opacity:1}.reasonsBuilderUi.disabled .wrapper{display:none}.reasonsMessage{color:#8f98a3}.reasonsBuilder,.reasonsStatement{width:100%;float:left}.reasonsStatement{margin-bottom:20px;padding-bottom:18px;border-bottom:1px solid #ccc;position:relative}.reasonsStatement .delimiter{display:inline-block;position:absolute;left:20px;bottom:-6px;padding:0 6px;background-color:#fff;line-height:1;font-size:10px;font-weight:700;color:#999;text-transform:uppercase}.reasonsRuleParams,.reasonsRuleParams>*{display:inline-block;width:auto;float:left;position:relative;margin:0 10px 10px 0}.reasonsRuleParams{margin:0}.reasonsRule{width:100%;float:left;clear:both;margin-right:0}.reasonsRuleLead{display:block;line-height:1;font-size:12px;color:#999;float:left;clear:both;margin-bottom:8px}.reasonsAddRule,.reasonsRemoveRule{display:inline-block;margin:6px 2px}.reasonsAddRule{display:none;margin-left:5px;margin-top:0;float:left;clear:both}.reasonsRule:last-child .reasonsAddRule{display:inline-block}.reasonsRule:last-child .reasonsRuleLead{display:none}.reasonsAdd{width:100%;float:left}.fld-field.js-reasons-has-conditionals{border-style:dashed}.matrix-configurator .reasonsAdd{display:inline-block;float:none;width:auto;margin-right:10px}.matrix-configurator .matrixconfigitem.js-reasons-has-conditionals{border:1px dashed rgba(0,0,0,.25);opacity:.75}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=p[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(l(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(l(i.parts[o],t));p[i.id]={id:i.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],a=r[1],s=r[2],u=r[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function o(e,t){var n=g(),i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function l(e,t){var n,i,r;if(t.singleton){var o=_++;n=y||(y=s(t)),i=c.bind(null,n,o,!1),r=c.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),i=d.bind(null,n),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=f.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function c(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=m(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,i=t.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var p={},v=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=v(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=v(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,_=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=p[s.id];u.refs--,o.push(u)}if(e){var l=r(e);i(l,t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete p[u.id]}}}};var m=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(47),o=i(r);/*!
	 * jQuery.fn.hasAttr()
	 *
	 * Copyright 2011, Rick Waldron
	 * Licensed under MIT license.
	 *
	 */
!function(e){e.fn.hasAttr=function(e){for(var t=0,n=this.length;t<n;t++)if(void 0!==this.attr(e))return!0;return!1}}(o.default)},function(e,t){e.exports=jQuery},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ASSET_SOURCE_HANDLE="assetSource",t.CATEGORY_GROUP_HANDLE="categoryGroup",t.TAG_GROUP_HANDLE="tagGroup",t.GLOBAL_SET_HANDLE="globalSet",t.ENTRY_TYPE_HANDLE="entryType",t.SECTION_HANDLE="section",t.USERS_HANDLE="users",t.FIELDS_HANDLE="field",t.SOLSPACE_CALENDAR_HANDLE="solspaceCalendar",t.ASSET_SOURCE_ACTION="assetSources/saveSource",t.CATEGORY_ACTION="categories/saveCategory",t.CATEGORY_GROUP_ACTION="categories/saveGroup",t.TAG_ACTION="tagManager/saveTag",t.TAG_GROUP_ACTION="tags/saveTagGroup",t.GLOBAL_SET_CONTENT_ACTION="globals/saveContent",t.GLOBAL_SET_ACTION="globals/saveSet",t.ENTRY_ACTION="entries/saveEntry",t.ENTRY_TYPE_ACTION="sections/saveEntryType",t.USERS_ACTION="users/saveUser",t.USERS_FIELDS_ACTION="users/saveFieldLayout",t.FIELDS_ACTION="fields/saveField",t.SOLSPACE_CALENDAR_EVENTS_ACTION="calendar/events/saveEvent",t.SOLSPACE_CALENDAR_SETTINGS_ACTION="calendar/settings/saveSettings",t.FIELD_LAYOUT_DESIGNER_CONTEXT="FIELD_LAYOUT_DESIGNER_CONTEXT",t.MATRIX_CONFIGURATOR_CONTEXT="MATRIX_CONFIGURATOR_CONTEXT",t.FORM_PARSER_CONTEXT="FORM_PARSER_CONTEXT",t.MATRIX_PARSER_CONTEXT="MATRIX_PARSER_CONTEXT"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(50),s=i(a),u=n(3),l=i(u),c=n(1),f=i(c),d=n(132),p=i(d),v=n(141),h=i(v),g=function(){function e(t){r(this,e);var n=t.prototype,i=t.FieldDrag.prototype,o=this,a=n.init;n.init=function(){a.apply(this,arguments),o.init(this)};var s=n.initField;n.initField=function(e){s.apply(this,arguments);var t=e.find(".settings").data("menubtn").menu||null,n=t&&t.$container?t.$container.find('a[data-action="remove"]').parent():null,i=$('<li><a data-action="toggle-reasons">'+Craft.t("Edit conditionals")+"</a></li>");n&&n.length&&i.insertBefore(n).find("a").data("menu",t).on("click",o.onReasonsToggleOptionSelect.bind(o)),o.update()};var u=n.removeFieldById;n.removeFieldById=function(e){var t=this.$allFields.filter("[data-id="+e+"]:first");t&&t.length&&t.data("_reasonsPlugin")&&(t.data("_reasonsPlugin").destroy(),t.data("_reasonsPlugin",null)),u.apply(this,arguments),o.update()};var l=i.onDragStop;i.onDragStop=function(){l.apply(this,arguments),o.update()}}return o(e,[{key:"init",value:function(e){var t=f.default.getFormAttributes();return!!t&&(this.fld=e,this.$input=$('<input type="hidden" name="_reasonsPlugin" value="" />').appendTo(this.fld.$container),this.setConditionals(t.conditionals),void this.update())}},{key:"toggleModal",value:function(e){var t=this;new h.default(e.data("_reasonsPlugin"),{onHide:function(){t.onBuilderModalHide(this)}})}},{key:"update",value:function(){var e=this;return!!this.fld&&void Garnish.requestAnimationFrame(function(){var t=e.fld.$allFields.selector,n=e.fld.$tabContainer.find(t),i={},r=(0,s.default)(n,function(e,t){var n=f.default.getToggleFieldById($(t).data("id"));return n&&e.push(n),e},[]);return!!r.length&&((0,l.default)(n,function(t){var n=$(t),o=n.data("id"),a=n.data("_reasonsPlugin");a?a.update({toggleFields:r}):a=new p.default({fieldId:o,toggleFields:r,conditionals:e.getConditionalsForField(o)}),n.data("_reasonsPlugin",a);var s=a.getConditionals();s&&s.length?(i[o]=s,n.addClass("js-reasons-has-conditionals")):n.removeClass("js-reasons-has-conditionals")}),void e.setConditionals(i))})}},{key:"getConditionalsForField",value:function(e){return(this.conditionals||{})[e]||null}},{key:"getConditionals",value:function(){return this.conditionals||null}},{key:"setConditionals",value:function(e){this.conditionals=e,this.conditionals&&0!==Object.keys(this.conditionals).length?this.$input.attr("value",JSON.stringify(this.conditionals)):this.$input.attr("value","")}},{key:"onBuilderModalHide",value:function(e){this.update()}},{key:"onReasonsToggleOptionSelect",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget,n=$(t).data("menu"),i=n.$anchor.parent();n.hide(),this.toggleModal(i)}}]),e}();t.default=g},function(e,t,n){function i(e,t,n){var i=u(e)?r:s,l=arguments.length<3;return i(e,a(t,4),n,l,o)}var r=n(51),o=n(6),a=n(52),s=n(131),u=n(22);e.exports=i},function(e,t){function n(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}e.exports=n},function(e,t,n){function i(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):r(e):u(e)}var r=n(53),o=n(112),a=n(41),s=n(22),u=n(128);e.exports=i},function(e,t,n){function i(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=n(54),o=n(109),a=n(111);e.exports=i},function(e,t,n){function i(e,t,n,i){var u=n.length,l=u,c=!i;if(null==e)return!l;for(e=Object(e);u--;){var f=n[u];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<l;){f=n[u];var d=f[0],p=e[d],v=f[1];if(c&&f[2]){if(void 0===p&&!(d in e))return!1}else{var h=new r;if(i)var g=i(p,v,d,e,t,h);if(!(void 0===g?o(v,p,a|s,i,h):g))return!1}}return!0}var r=n(55),o=n(91),a=1,s=2;e.exports=i},function(e,t,n){function i(e){var t=this.__data__=new r(e);this.size=t.size}var r=n(56),o=n(64),a=n(65),s=n(66),u=n(67),l=n(68);i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=s,i.prototype.has=u,i.prototype.set=l,e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(57),o=n(58),a=n(61),s=n(62),u=n(63);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=u,e.exports=i},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():a.call(t,n,1),--this.size,!0}var r=n(59),o=Array.prototype,a=o.splice;e.exports=i},function(e,t,n){function i(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(60);e.exports=i},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=n(59);e.exports=i},function(e,t,n){function i(e){return r(this.__data__,e)>-1}var r=n(59);e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var r=n(59);e.exports=i},function(e,t,n){function i(){this.__data__=new r,this.size=0}var r=n(56);e.exports=i},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function i(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<s-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}var r=n(56),o=n(69),a=n(76),s=200;e.exports=i},function(e,t,n){var i=n(70),r=n(17),o=i(r,"Map");e.exports=o},function(e,t,n){function i(e,t){var n=o(e,t);return r(n)?n:void 0}var r=n(71),o=n(75);e.exports=i},function(e,t,n){function i(e){if(!a(e)||o(e))return!1;var t=r(e)?v:l;return t.test(s(e))}var r=n(37),o=n(72),a=n(38),s=n(74),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,d=c.toString,p=f.hasOwnProperty,v=RegExp("^"+d.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t,n){function i(e){return!!o&&o in e}var r=n(73),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=i},function(e,t,n){var i=n(17),r=i["__core-js_shared__"];e.exports=r},function(e,t){function n(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var i=Function.prototype,r=i.toString;e.exports=n},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(77),o=n(85),a=n(88),s=n(89),u=n(90);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=u,e.exports=i},function(e,t,n){function i(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}var r=n(78),o=n(56),a=n(69);e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(79),o=n(81),a=n(82),s=n(83),u=n(84);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=u,e.exports=i},function(e,t,n){function i(){this.__data__=r?r(null):{},this.size=0}var r=n(80);e.exports=i},function(e,t,n){var i=n(70),r=i(Object,"create");e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function i(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var r=n(80),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}var r=n(80),o=Object.prototype,a=o.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}var r=n(80),o="__lodash_hash_undefined__";e.exports=i},function(e,t,n){function i(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=n(86);e.exports=i},function(e,t,n){function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=n(87);e.exports=i},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function i(e){return r(this,e).get(e)}var r=n(86);e.exports=i},function(e,t,n){function i(e){return r(this,e).has(e)}var r=n(86);e.exports=i},function(e,t,n){function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var r=n(86);e.exports=i},function(e,t,n){function i(e,t,n,s,u){return e===t||(null==e||null==t||!o(e)&&!a(t)?e!==e&&t!==t:r(e,t,n,s,i,u))}var r=n(92),o=n(38),a=n(21);e.exports=i},function(e,t,n){function i(e,t,n,i,g,_){var b=l(e),m=l(t),C=v,T=v;b||(C=u(e),C=C==p?h:C),m||(T=u(t),T=T==p?h:T);var x=C==h,O=T==h,E=C==T;if(E&&c(e)){if(!c(t))return!1;b=!0,x=!1}if(E&&!x)return _||(_=new r),b||f(e)?o(e,t,n,i,g,_):a(e,t,C,n,i,g,_);if(!(n&d)){var S=x&&y.call(e,"__wrapped__"),A=O&&y.call(t,"__wrapped__");if(S||A){var k=S?e.value():e,R=A?t.value():t;return _||(_=new r),g(k,R,n,i,_)}}return!!E&&(_||(_=new r),s(e,t,n,i,g,_))}var r=n(55),o=n(93),a=n(99),s=n(103),u=n(104),l=n(22),c=n(23),f=n(27),d=1,p="[object Arguments]",v="[object Array]",h="[object Object]",g=Object.prototype,y=g.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t,n,i,l,c){var f=n&s,d=e.length,p=t.length;if(d!=p&&!(f&&p>d))return!1;var v=c.get(e);if(v&&c.get(t))return v==t;var h=-1,g=!0,y=n&u?new r:void 0;for(c.set(e,t),c.set(t,e);++h<d;){var _=e[h],b=t[h];if(i)var m=f?i(b,_,h,t,e,c):i(_,b,h,e,t,c);if(void 0!==m){if(m)continue;g=!1;break}if(y){if(!o(t,function(e,t){if(!a(y,t)&&(_===e||l(_,e,n,i,c)))return y.push(t)})){g=!1;break}}else if(_!==b&&!l(_,b,n,i,c)){g=!1;break}}return c.delete(e),c.delete(t),g}var r=n(94),o=n(97),a=n(98),s=1,u=2;e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n(76),o=n(95),a=n(96);i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},function(e,t){function n(e){return this.__data__.set(e,i),this}var i="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function i(e,t,n,i,r,x,E){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!x(new o(e),new o(t)));case d:case p:case g:return a(+e,+t);case v:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case h:var S=u;case _:var A=i&c;if(S||(S=l),e.size!=t.size&&!A)return!1;var k=E.get(e);if(k)return k==t;i|=f,E.set(e,t);var R=s(S(e),S(t),i,r,x,E);return E.delete(e),R;case m:if(O)return O.call(e)==O.call(t)}return!1}var r=n(16),o=n(100),a=n(60),s=n(93),u=n(101),l=n(102),c=1,f=2,d="[object Boolean]",p="[object Date]",v="[object Error]",h="[object Map]",g="[object Number]",y="[object RegExp]",_="[object Set]",b="[object String]",m="[object Symbol]",C="[object ArrayBuffer]",T="[object DataView]",x=r?r.prototype:void 0,O=x?x.valueOf:void 0;e.exports=i},function(e,t,n){var i=n(17),r=i.Uint8Array;e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function i(e,t,n,i,a,u){var l=n&o,c=r(e),f=c.length,d=r(t),p=d.length;if(f!=p&&!l)return!1;for(var v=f;v--;){var h=c[v];if(!(l?h in t:s.call(t,h)))return!1}var g=u.get(e);if(g&&u.get(t))return g==t;var y=!0;u.set(e,t),u.set(t,e);for(var _=l;++v<f;){h=c[v];var b=e[h],m=t[h];if(i)var C=l?i(m,b,h,t,e,u):i(b,m,h,e,t,u);if(!(void 0===C?b===m||a(b,m,n,i,u):C)){y=!1;break}_||(_="constructor"==h)}if(y&&!_){var T=e.constructor,x=t.constructor;T!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof T&&T instanceof T&&"function"==typeof x&&x instanceof x)&&(y=!1)}return u.delete(e),u.delete(t),y}var r=n(10),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=i},function(e,t,n){var i=n(105),r=n(69),o=n(106),a=n(107),s=n(108),u=n(15),l=n(74),c="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",v="[object WeakMap]",h="[object DataView]",g=l(i),y=l(r),_=l(o),b=l(a),m=l(s),C=u;(i&&C(new i(new ArrayBuffer(1)))!=h||r&&C(new r)!=c||o&&C(o.resolve())!=d||a&&C(new a)!=p||s&&C(new s)!=v)&&(C=function(e){var t=u(e),n=t==f?e.constructor:void 0,i=n?l(n):"";if(i)switch(i){case g:return h;case y:return c;case _:return d;case b:return p;case m:return v}return t}),e.exports=C},function(e,t,n){var i=n(70),r=n(17),o=i(r,"DataView");e.exports=o},function(e,t,n){var i=n(70),r=n(17),o=i(r,"Promise");e.exports=o},function(e,t,n){var i=n(70),r=n(17),o=i(r,"Set");e.exports=o},function(e,t,n){var i=n(70),r=n(17),o=i(r,"WeakMap");e.exports=o},function(e,t,n){function i(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}var r=n(110),o=n(10);e.exports=i},function(e,t,n){function i(e){return e===e&&!r(e)}var r=n(38);e.exports=i},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){function i(e,t){return s(e)&&u(t)?l(c(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?a(n,e):r(t,i,f|d)}}var r=n(91),o=n(113),a=n(125),s=n(116),u=n(110),l=n(111),c=n(124),f=1,d=2;e.exports=i},function(e,t,n){function i(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}var r=n(114);e.exports=i},function(e,t,n){function i(e,t){t=r(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}var r=n(115),o=n(124);e.exports=i},function(e,t,n){function i(e,t){return r(e)?e:o(e,t)?[e]:a(s(e))}var r=n(22),o=n(116),a=n(118),s=n(121);e.exports=i},function(e,t,n){function i(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}var r=n(22),o=n(117),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=i},function(e,t,n){function i(e){return"symbol"==typeof e||o(e)&&r(e)==a}var r=n(15),o=n(21),a="[object Symbol]";e.exports=i},function(e,t,n){var i=n(119),r=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=i(function(e){var t=[];return r.test(e)&&t.push(""),e.replace(o,function(e,n,i,r){t.push(i?r.replace(a,"$1"):n||e)}),t});e.exports=s},function(e,t,n){function i(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var r=n(120),o=500;e.exports=i},function(e,t,n){function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(i.Cache||r),n}var r=n(76),o="Expected a function";i.Cache=r,e.exports=i},function(e,t,n){function i(e){return null==e?"":r(e)}var r=n(122);e.exports=i},function(e,t,n){function i(e){if("string"==typeof e)return e;if(a(e))return o(e,i)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var r=n(16),o=n(123),a=n(22),s=n(117),u=1/0,l=r?r.prototype:void 0,c=l?l.toString:void 0;e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}e.exports=n},function(e,t,n){function i(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var r=n(117),o=1/0;e.exports=i},function(e,t,n){function i(e,t){return null!=e&&o(e,t,r)}var r=n(126),o=n(127);e.exports=i},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function i(e,t,n){t=r(t,e);for(var i=-1,c=t.length,f=!1;++i<c;){var d=l(t[i]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++i!=c?f:(c=null==e?0:e.length,!!c&&u(c)&&s(d,c)&&(a(e)||o(e)))}var r=n(115),o=n(13),a=n(22),s=n(26),u=n(29),l=n(124);e.exports=i},function(e,t,n){function i(e){return a(e)?r(s(e)):o(e)}var r=n(129),o=n(130),a=n(116),s=n(124);e.exports=i},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function i(e){return function(t){return r(t,e)}}var r=n(114);e.exports=i},function(e,t){function n(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),s=i(a),u=n(133),l=i(u),c=n(50),f=i(c),d=n(146),p=i(d),v=n(140),h=i(v),g=n(1),y=(i(g),function(){function e(t){var n=this;r(this,e),this.setSettings(t),this.fieldId=this.settings.fieldId,this.$container=$(e.templates.builderUi()),this.$ui=this.$container.find(".reasonsBuilder:first"),this.$rule=this.$container.find(".reasonsRule:first").clone(!0),this.$statement=this.$container.find(".reasonsStatement:first").clone(!0),this.$statement.find(".reasonsRule").remove(),this.$message=this.$container.find(".reasonsMessage:first"),this.$container.on("click",".reasonsAddRule",this.onAddRuleBtnClick.bind(this)).on("click",".reasonsRemoveRule",this.onRemoveRuleBtnClick.bind(this)).on("click",".reasonsAddStatement",this.onAddStatementBtnClick.bind(this)).on("change",".reasonsRuleToggleField select",this.onRuleToggleFieldChange.bind(this)).on("change",".reasonsRuleCompare select",this.onRuleCompareChange.bind(this)).on("change",".reasonsRuleValue *:input",this.onRuleValueChange.bind(this)),this.$ui.html(""),this.settings.toggleFields&&this.setToggleFields(this.settings.toggleFields),this.settings.conditionals&&(0,s.default)(this.settings.conditionals,function(e){n.addStatement({rules:e})}),this.render()}return o(e,[{key:"setSettings",value:function(t){this.settings=(0,h.default)({},this.settings||e.settings,t)}},{key:"destroy",value:function(){this.$container.off("click change"),delete this.$container,delete this.$ui,delete this.$statement,delete this.$message,delete this.settings,delete this.fieldId}},{key:"get",value:function(){return this.$container}},{key:"disable",value:function(){this.$container.addClass("disabled")}},{key:"enable",value:function(){this.$container.removeClass("disabled")}},{key:"update",value:function(e){this.setSettings(e),this.setToggleFields(this.settings.toggleFields),this.render()}},{key:"setToggleFields",value:function(t){var n=this;if(!t)return!1;var i="";this.settings.toggleFields=(0,f.default)(t,function(t,r){return r.id!=n.fieldId&&(i+=e.templates.toggleSelectOption(r),r.id=r.id.toString(),t.push(r)),t},[]),this.$rule.find(".reasonsRuleToggleField select").html(i)}},{key:"getToggleFieldById",value:function(e){return e=e.toString(),(0,l.default)(this.settings.toggleFields||[],{id:e})}},{key:"render",value:function(){var t=this;this.settings.conditionals=[];var n=this.settings.toggleFields||[];if(!n.length)return this.disable(),this.$message.text(Craft.t("No toggle fields available.")),!1;this.enable(),this.$message.text("");var i=this.$container.find(".reasonsStatement");(0,s.default)(i,function(i){var r=$(i),o=[],a=r.find(".reasonsRule");return(0,s.default)(a,function(i){var r=$(i),a=r.find(".reasonsRuleToggleField select"),u=parseInt(a.val());if(!t.getToggleFieldById(u))return void r.remove();var l="";(0,s.default)(n,function(t){l+=e.templates.toggleSelectOption(t,parseInt(t.id)===u)}),a.html(l),o.push({fieldId:u,compare:r.find(".reasonsRuleCompare select").val(),value:r.find(".reasonsRuleValue *:input:first").val()})}),o.length?void t.settings.conditionals.push(o):void r.remove()}),this.settings.onChange&&this.settings.onChange()}},{key:"getConditionals",value:function(){return!!(this.settings.conditionals&&this.settings.conditionals.length>0)&&this.settings.conditionals}},{key:"addStatement",value:function(e){var t=this;e=(0,h.default)({},{rules:!1},e);var n=this.$statement.clone(!0),i=e.rules;return this.$ui.append(n),i?(0,s.default)(i,function(e){t.addRule((0,h.default)({},{target:n},e))}):this.addRule({target:n}),n}},{key:"addRule",value:function(e){e=(0,h.default)({},{fieldId:null,compare:null,value:null},e);var t=this.$rule.clone(!0),n=e.target||this.$ui.find(".reasonsStatement:last"),i=e.fieldId,r=e.compare,o=e.value;return!!n.length&&(i&&t.find(".reasonsRuleToggleField select").val(i),n.find(".reasonsRules:first").append(t),t.find(".reasonsRuleToggleField select").trigger("change"),r&&t.find(".reasonsRuleCompare select").val(r),o&&t.find(".reasonsRuleValue *:input:first").val(o),this.settings.onChange&&this.settings.onChange(),t)}},{key:"onAddRuleBtnClick",value:function(e){e.preventDefault();var t=$(e.currentTarget).closest(".reasonsStatement");this.addRule({target:t})}},{key:"onRemoveRuleBtnClick",value:function(e){e.preventDefault();var t=$(e.currentTarget).closest(".reasonsRule");t.remove(),this.render()}},{key:"onAddStatementBtnClick",value:function(e){e.preventDefault(),this.addStatement()}},{key:"onRuleToggleFieldChange",value:function(t){t.preventDefault();var n=$(t.currentTarget),i=n.val(),r=this.getToggleFieldById(i),o=r.type,a=r.settings,s=n.parents(".reasonsRule"),u=s.find(".reasonsRuleValue"),l="";switch(o){case"Lightswitch":l=e.templates.select([{true:Craft.t("on")},{false:Craft.t("off")}]);break;case"Dropdown":case"MultiSelect":case"Checkboxes":case"RadioButtons":case"ButtonBox_Buttons":case"ButtonBox_Colours":case"ButtonBox_TextSize":case"ButtonBox_Width":for(var c,f=a.options,d=[],v=0;v<f.length;++v)c={},c[f[v].value]=f[v].label,d.push(c);l=e.templates.select(d,"MultiSelect"===o||"Checkboxes"===o);break;case"Number":l=e.templates.number(a);break;case"ButtonBox_Stars":for(var c,h=parseInt(a.numStars)+1,d=[],v=0;v<h;++v)c={},c[""+v]=v,d.push(c);l=e.templates.select(d);break;case"PositionSelect":for(var c,f=a.options,d=[],v=0;v<f.length;++v)c={},c[f[v]]=Craft.t((0,p.default)(f[v])),d.push(c);l=e.templates.select(d);break;case"Entries":case"Categories":case"Tags":case"Assets":case"Users":case"Calendar_Event":var d=[{null:Craft.t("Empty").toLowerCase()},{notnull:Craft.t("Not empty").toLowerCase()}];l=e.templates.select(d);break;default:l=e.templates.input(a)}u.html(l)}},{key:"onRuleCompareChange",value:function(e){e.preventDefault()}},{key:"onRuleValueChange",value:function(e){e.preventDefault()}}]),e}());y.settings={fieldId:null,toggleFields:null,conditionals:null,onChange:null},y.templates={select:function(e,t){for(var n,i,r,o=[],a=0;a<e.length;++a)n=e[a],i=Object.keys(n)[0],r=n[i],o.push('<option value="'+i+'">'+r+"</option>");return'<div class="'+(t?"multiselect":"select")+'"><select'+(t?" multiple":"")+">"+o.join("")+"</select></div>"},toggleSelectOption:function(e,t){return'<option value="'+e.id+'" data-type="'+e.type+'"'+(t?" selected":"")+">"+e.name+"</option>"},number:function(e){return'<div class="input"><input class="text" type="number" value="0" min="'+e.min+'" max="'+e.max+'" autocomplete="off"></div>'},input:function e(t){var e="";return t=(0,h.default)({},{initialRows:4,placeholder:"",multiline:!1},t||{}),e+="1"===t.multiline?'<textarea rows="'+t.initialRows+'" placeholder="'+t.placeholder+'" autocomplete="off"></textarea>':'<input class="text" type="text" size="20" value="" placeholder="'+t.placeholder+'" autocomplete="off">','<div class="input">'+e+"</div>"},builderUi:function(){return'<div class="reasonsBuilderUi"><div class="wrapper"><div class="heading"><span>'+Craft.t("Show this field if")+'</span></div><div class="reasonsBuilder"><div class="reasonsStatement"><span class="delimiter">'+Craft.t("or")+'</span><div class="reasonsRules"><div class="reasonsRule"><div class="reasonsRuleParams"><div class="select reasonsRuleToggleField"><select /></div><div class="select reasonsRuleCompare"><select><option value="==">'+Craft.t("is equal to")+'</option><option value="!=">'+Craft.t("is not equal to")+'</option></select></div><div class="reasonsRuleValue" /></div><div class="reasonsRuleAmend"><a class="delete icon reasonsRemoveRule" title="'+Craft.t("Remove rule")+'"></a><a class="add icon reasonsAddRule" title="'+Craft.t("and")+'"></a></div><span class="reasonsRuleLead">'+Craft.t("and")+'</span></div></div></div></div><div class="reasonsAdd"><a class="btn reasonsAddStatement">'+Craft.t("Add rules")+'</a></div></div><div class="reasonsMessage"></div></div>'}},t.default=y},function(e,t,n){var i=n(134),r=n(135),o=i(r);e.exports=o},function(e,t,n){function i(e){return function(t,n,i){var s=Object(t);if(!o(t)){var u=r(n,3);t=a(t),n=function(e){return u(s[e],e,s)}}var l=e(t,n,i);return l>-1?s[u?t[l]:l]:void 0}}var r=n(52),o=n(36),a=n(10);e.exports=i},function(e,t,n){function i(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var u=null==n?0:a(n);return u<0&&(u=s(i+u,0)),r(e,o(t,3),u)}var r=n(136),o=n(52),a=n(137),s=Math.max;e.exports=i},function(e,t){function n(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t,n){function i(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=n(138);e.exports=i},function(e,t,n){function i(e){if(!e)return 0===e?e:0;if(e=r(e),e===o||e===-o){var t=e<0?-1:1;return t*a}return e===e?e:0}var r=n(139),o=1/0,a=1.7976931348623157e308;e.exports=i},function(e,t,n){function i(e){if("number"==typeof e)return e;if(o(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||c.test(e)?f(e.slice(2),n?2:8):u.test(e)?a:+e}var r=n(38),o=n(117),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=i},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==i.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(e,t){for(var i,a,s=n(e),u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var l in i)r.call(i,l)&&(s[l]=i[l]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(i);for(var c=0;c<a.length;c++)o.call(i,a[c])&&(s[a[c]]=i[a[c]])}}return s}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(132),s=(i(a),function(){function e(t,n){r(this,e),this.$el=$(e.template),this.$builder=t.get().appendTo(this.$el.find(".body")),this.settings=$.extend({},n),this.modal=new Garnish.Modal(this.$el,{resizable:!0,onHide:this.settings.onHide.bind(this)}),this.$el.on("click",".close",this.hide.bind(this))}return o(e,[{key:"hide",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.modal.hide()}},{key:"destroy",value:function(){this.modal.destroy(),delete this.modal,this.$builder.remove(),delete this.$builder,delete this.settings,delete this.$el}},{key:"onHide",value:function(){this.settings.onHide&&this.settings.onHide(),this.destroy()}}]),e}());s.template='<div class="modal elementselectormodal reasonsModal"><div class="body" /><div class="footer"><div class="buttons rightalign first"><div class="btn close submit">Done</div></div></div></div>',t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(50),s=i(a),u=n(140),l=i(u),c=n(1),f=i(c),d=n(132),p=i(d),v=function(){function e(t){r(this,e);var n=t.prototype,i=n.init,o=this;n.init=function(){i.apply(this,arguments),o.init(this)}}return o(e,[{key:"init",value:function(e){this.configurator=e;for(var t in this.configurator.blockTypes)this.initBlockType(this.configurator.blockTypes[t])}},{key:"update",value:function(){}},{key:"initBlockType",value:function(e){var t=this.getToggleFieldsForBlockType(e);e._reasons?e._reasons=(0,l.default)({},e._reasons,{toggleFields:t}):e._reasons={$input:$('<input type="hidden" name="types[Matrix][blockTypes]['+e.id+'][_reasonsPlugin]" value="" />').appendTo(e.$item),toggleFields:t};for(var n in e.fields)this.initField(e.fields[n]);return e}},{key:"destroyBlockType",value:function(e){e._reasons&&delete e._reasons}},{key:"onBlockTypeAdded",value:function(){}},{key:"onBlockTypeRemoved",value:function(){}},{key:"initField",value:function(e){var t=this.getToggleFieldsForField(e);e._reasons?e._reasons.builder.update({toggleFields:t}):(e._reasons={builder:new p.default({fieldId:e.id,
onChange:this.onConditionalsChange.bind(this,e),conditionals:this.getConditionalsForField(e),toggleFields:t})},e.$fieldSettingsContainer.on("change",":input",this.onFieldSettingsChange.bind(this,e)).children("a.delete:last").before($("<div><hr /></div>").prepend(e._reasons.builder.get())),this.onConditionalsChange(e))}},{key:"destroyField",value:function(){field._reasons&&(field._reasons.builder.destroy(),delete field._reasons)}},{key:"onFieldSettingsChange",value:function(e){var t=this;Garnish.requestAnimationFrame(function(){t.initBlockType(e.blockType)})}},{key:"onFieldAdded",value:function(){}},{key:"onFieldRemoved",value:function(){}},{key:"onConditionalsChange",value:function(e){if(!e._reasons)return!1;var t=e._reasons.builder,n=e.$item;t.getConditionals()?n.addClass("js-reasons-has-conditionals"):n.removeClass("js-reasons-has-conditionals")}},{key:"getToggleFieldsForBlockType",value:function(e){var t=this;return(0,s.default)(e.fields,function(e,n){var i=t.getToggleFieldDataFromField(n);return i&&e.push(i),e},[])}},{key:"getToggleFieldsForField",value:function(e){return(0,s.default)(e.blockType._reasons.toggleFields,function(t,n){return n.id!=e.id&&t.push(n),t},[])}},{key:"isToggleField",value:function(e){var t=f.default.getToggleFieldTypes();return t.indexOf(e.selectedFieldType||"")>-1}},{key:"getToggleFieldDataFromField",value:function(e){if(!this.isToggleField(e))return null;var t=e.id,n=e.$nameInput.val(),i=e.$handleInput.val(),r=e.selectedFieldType,o=this.getToggleFieldSettingsFromField(e);return t&&n&&i&&r&&o?{id:t,name:n,handle:i,type:r,settings:o!==!0?o:null}:null}},{key:"getToggleFieldSettingsFromField",value:function(e){var t=e.selectedFieldType,n=$(e.initializedFieldTypeSettings[t]);if(!n||!n.length)return null;switch(t){case"Lightswitch":return!0;case"Number":var i={min:n.find('input[name$="[min]"]').val(),max:n.find('input[name$="[max]"]').val(),decimals:n.find('input[name$="[decimals]"]').val()};return{options:i};case"PlainText":case"PreparseField_Preparse":var i={multiline:1==n.find('input[name$="[multiline]"]').val(),initialRows:n.find('input[name$="[initialRows]"]').val()};return{options:i};case"Dropdown":case"Checkboxes":case"MultiSelect":case"RadioButtons":var r=n.find("table:first tr"),i=(0,s.default)(r,function(e,t){t=$(t);var n=t.find(':input[name$="[value]"]').val(),i=t.find(':input[name$="[label]"]').val();return n&&n.length&&i&&i.length&&e.push({label:i,value:n}),e},[]);return i.length?{options:i}:null;case"PositionSelect":var r=n.find("table:first tr"),i=(0,s.default)(r,function(e,t){var n=$(t).find('input[type="hidden"]:first'),i=n.attr("name").split("[").pop().replace("]",""),r=1==n.val();return r&&i&&i.length&&e.push(i),e},[]);return i.length?{options:i}:null;case"Entries":case"Categories":case"Tags":case"Assets":case"Users":case"Calendar_Event":return!0;case"ButtonBox_Stars":}return null}},{key:"getConditionalsForField",value:function(){return null}}]),e}();t.default=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),u=n(144),l=i(u),c=function(){function e(t){r(this,e);var n=this,i=t.prototype,o=i.showHud;i.showHud=function(e){o.apply(this,arguments),n.source=e._reasonsSource||null,n.showHud(this)};var a=i.closeHud;i.closeHud=function(){a.apply(this,arguments),n.closeHud(this)},this.source=null}return o(e,[{key:"showHud",value:function(e){if(this.destroy(),!this.source)return!1;var t=s.default.getConditionalsForSource(this.source);return!!t&&(this.editForm=new l.default(e.$form,t),void e.hud.on("hide",this.destroy.bind(this)))}},{key:"closeHud",value:function(){this.destroy()}},{key:"destroy",value:function(){this.editForm&&(this.editForm.destroy(),delete this.editForm)}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(140),s=i(a),u=n(1),l=i(u),c=n(145),f=(i(c),function(){function e(t,n,i){return r(this,e),!(!t||!t.length)&&(this.$el=t,!this.$el.data("reasonsinit")&&(this.$el.attr("[data-reasonsinit]"),this.conditionals=n,this.settings=(0,s.default)({},e.settings,i||{}),this.id=this.$el.attr("id"),this.id||(this.id="_reasonsForm-"+Math.random().toString(36).slice(2),this.$el.attr("id",this.id)),void this.init()))}return o(e,[{key:"init",value:function(){this.addEventListeners(),this.addLivePreviewListeners(),this.render()}},{key:"addEventListeners",value:function(){Garnish.$doc.on("click",this.settings.fieldsSelector+'[data-toggle="1"]',this.onInputWrapperClick.bind(this)).on("change keyup",this.settings.fieldsSelector+'[data-toggle="1"] *:input, '+this.settings.fieldsSelector+'[data-toggle="1"] '+this.settings.lightswitchContainerSelector,this.onFieldInputChange.bind(this)).on("click","a[data-buttonbox-value]",this.onFieldInputChange.bind(this));for(var e=this,t=["elementselect","categoriesfield"],n=void 0,i=0;i<t.length;++i)$(this.settings.fieldsSelector+" ."+t[i]).each(function(){if(!$(this).hasAttr("data-reasonselementselect")){var t=(new Date).getTime(),i=function(){n=$(this).data("elementSelect"),n?(n.on("selectElements",e.onElementSelectChange.bind(e)),n.on("removeElements",e.onElementSelectChange.bind(e)),$(this).attr("data-reasonselementselect",""),e.onElementSelectChange()):(new Date).getTime()-t<2e3&&Garnish.requestAnimationFrame(i)}.bind(this);i()}})}},{key:"removeEventListeners",value:function(){Garnish.$doc.off("click",this.settings.fieldsSelector+'[data-toggle="1"]',this.onInputWrapperClick.bind(this)).off("change keyup",this.settings.fieldsSelector+'[data-toggle="1"] *:input, '+this.settings.fieldsSelector+'[data-toggle="1"] '+this.settings.lightswitchContainerSelector,this.onFieldInputChange.bind(this)).off("click","a[data-buttonbox-value]",this.onFieldInputChange.bind(this));var e=this,t=void 0;$("[data-reasonselementselect]").each(function(){t=$(this).data("elementSelect"),t.off("selectElements",e.onElementSelectChange.bind(e)),t.off("removeElements",e.onElementSelectChange.bind(e)),$(this).removeAttr("[data-reasonselementselect]")})}},{key:"addLivePreviewListeners",value:function(){function e(){Craft.livePreview?(this._livePreview=Craft.livePreview,this._livePreview.on("enter",this.onLivePreviewEnter.bind(this)),this._livePreview.on("exit",this.onLivePreviewExit.bind(this)),this._livePreviewPollId&&delete this._livePreviewPollId):(new Date).getTime()-n<2e3&&(this._livePreviewPollId=Garnish.requestAnimationFrame(t))}var t=e.bind(this),n=(new Date).getTime();t()}},{key:"removeLivePreviewListeners",value:function(){this._livePreviewPollId&&(Garnish.cancelAnimationFrame(this._livePreviewPollId),delete this._livePreviewPollId),this._livePreview&&(this._livePreview.off("enter",this.onLivePreviewEnter.bind(this)),this._livePreview.off("exit",this.onLivePreviewExit.bind(this)),delete this._livePreview)}},{key:"destroy",value:function(){this.removeEventListeners(),this.removeLivePreviewListeners()}},{key:"render",value:function(){this.initToggleFields()&&this.evaluateConditionals()}},{key:"getFieldsSelector",value:function(){var e=[this.settings.fieldsSelector];return this.isLivePreview?e.unshift(this.settings.livePreviewEditorSelector):e.unshift("#"+this.id),e.join(" ")}},{key:"initToggleFields",value:function(){if(this.$fields=$(this.getFieldsSelector()),!this.$fields.length)return!1;for(var e,t=Object.keys(this.conditionals),n=[],i=0;i<t.length;++i){e=this.conditionals[t[i]][0];for(var r=0;r<e.length;++r)n.push(e[r].fieldId)}var o,a,s,u,c=this;return this.$fields.each(function(){o=$(this),void 0!==o.attr("id")&&(a=o.attr("id").split("-"),a.length<3||a.length>4||(s=a.slice(-2,-1)[0]||!1,s&&(u=l.default.getFieldIdByHandle(s),u&&o.attr("data-id",u),c.conditionals[u]&&o.attr("data-target",1),n.indexOf(parseInt(u))>-1&&o.attr("data-toggle",1))))}),!0}},{key:"evaluateConditionals",value:function(){var e,t,n,i,r,o,a,s,u,c=this,f=$(this.getFieldsSelector()+'[data-target="1"]');f.removeClass("reasonsHide").removeAttr("aria-hidden").removeAttr("tabindex").each(function(){if(e=$(this),t=c.conditionals[e.data("id")]||!1){for(var f=t.length,d=f,p=0;p<f;++p){n=!0,i=t[p];for(var v=0;v<i.length;++v)if(r=i[v],o=$(c.getFieldsSelector()+'[data-id="'+r.fieldId+'"]'),0!==o.length){switch(s=l.default.getToggleFieldById(r.fieldId),u=null,s.type){case"Lightswitch":a=o.find("*:input:first"),a.length>0&&(u="1"===a.val()?"true":"false");break;case"Checkboxes":case"RadioButtons":case"ButtonBox_Buttons":case"ButtonBox_Stars":case"ButtonBox_Width":u=o.find("input:checkbox:checked,input:radio:checked").map(function(){return $(this).val()}).get();break;case"Entries":case"Categories":case"Tags":case"Assets":case"Users":case"Calendar_Event":var h=o.find("[data-reasonselementselect]").data("elementSelect")||null;u=h&&h.totalSelected?"notnull":"null";break;default:a=o.find("*:input:first"),u=a.val()}switch($.isArray(u)&&(u=u.join("")),$.isArray(r.value)&&(r.value=r.value.join("")),r.compare){case"!=":u==r.value&&(n=!1);break;case"==":default:u!=r.value&&(n=!1)}if(!n){d--;break}}}d<=0&&e.addClass("reasonsHide").attr("aria-hidden","true").attr("tabindex","-1")}})}},{key:"onLivePreviewEnter",value:function(){this.isLivePreview=!0,this.render()}},{key:"onLivePreviewExit",value:function(){this.isLivePreview=!1,this.render()}},{key:"onInputWrapperClick",value:function(e){$(e.currentTarget).find("input:first").trigger("change")}},{key:"onFieldInputChange",value:function(e){this.evaluateConditionals()}},{key:"onElementSelectChange",value:function(e){Garnish.requestAnimationFrame(this.evaluateConditionals.bind(this))}}]),e}());f.settings={fieldsSelector:".field:not(#title-field)",livePreviewEditorSelector:".lp-editor",elementEditorSelector:".elementeditor",lightswitchContainerSelector:".lightswitch",positionSelectContainerSelector:".btngroup"},t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parse=function(){console.log("yo parsing here")}},function(e,t,n){function i(e){return o(r(e).toLowerCase())}var r=n(121),o=n(147);e.exports=i},function(e,t,n){var i=n(148),r=i("toUpperCase");e.exports=r},function(e,t,n){function i(e){return function(t){t=s(t);var n=o(t)?a(t):void 0,i=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return i[e]()+u}}var r=n(149),o=n(151),a=n(152),s=n(121);e.exports=i},function(e,t,n){function i(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}var r=n(150);e.exports=i},function(e,t){function n(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}e.exports=n},function(e,t){function n(e){return c.test(e)}var i="\\ud800-\\udfff",r="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=r+o+a,u="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+i+s+u+"]");e.exports=n},function(e,t,n){function i(e){return o(e)?a(e):r(e)}var r=n(153),o=n(151),a=n(154);e.exports=i},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t){function n(e){return e.match(T)||[]}var i="\\ud800-\\udfff",r="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=r+o+a,u="\\ufe0e\\ufe0f",l="["+i+"]",c="["+s+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+c+"|"+f+")",p="[^"+i+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",y=d+"?",_="["+u+"]?",b="(?:"+g+"(?:"+[p,v,h].join("|")+")"+_+y+")*",m=_+y+b,C="(?:"+[p+c+"?",c,v,h,l].join("|")+")",T=RegExp(f+"(?="+f+")|"+C+m,"g");e.exports=n}]);
//# sourceMappingURL=reasons.js.map